import{d as L,ap as N,aq as A,ar as i,as as h,at as t,au as $,F as U,av as G,aw as s,c as g,ax as b,ay as re,az as De,aA as ce,aB as Z,aC as _,aD as e,aE as S,aF as Ie,aG as Me,aH as Se,r as k,n as R,aI as B,ao as Re,o as te,aJ as Ue,z as He,aK as Ae,aL as Be,aM as Ee,aN as qe,aO as ze,aP as he}from"./vendor-576d49d6.js";import{_ as Fe,a as Ne,b as ge,c as M,d as Oe,e as se,f as Ge,g as Ve,h as Te,i as Ze,j as Je,N as Ke,k as ve,l as ie,m as _e,n as J,o as z,p as ye,u as E,q as Q,r as xe,s as $e,t as Y,v as Qe,w as de,x as Ye,y as We,z as Xe,A as et,B as be,C as ue,D as we,E as tt,F as je,G as nt,H as ot,I as st,J as at,K as ct,L as lt}from"./naive-8114b46a.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))c(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function l(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(a){if(a.ep)return;a.ep=!0;const o=l(a);fetch(a.href,o)}})();const rt=L({__name:"BreadCrumb",setup(r){const n=N();return(l,c)=>{const a=A("RouterLink"),o=Fe,d=Ne;return i(),h(d,{separator:">",class:"p-5 pb-0"},{default:t(()=>[(i(!0),$(U,null,G(s(n).meta.breadCrumb,u=>(i(),h(o,null,{default:t(()=>[u.to?(i(),h(a,{key:0,to:u.to},{default:t(()=>[g(b(u.text),1)]),_:2},1032,["to"])):(i(),$(U,{key:1},[g(b(u.text),1)],64))]),_:2},1024))),256))]),_:1})}}}),le="/assets/Logo-891bf623.png";re.defaults.headers.post["Content-Type"]="text/plain";re.defaults.headers.get["Content-Type"]="text/plain";const it=async(r,n,l,c)=>{if(c!==void 0)var{params:a={},data:o={}}=c;else a=o=null;const d={url:r,method:n,params:a,data:o,baseURL:l,timeout:0,...c};return re(d).then(u=>u).catch(u=>{throw u})},H=(r,n)=>it("https://script.google.com/macros/s/AKfycbxY16kzlqlMTd9WRUVySSCkTCY2QBNZ7A3UrPzcd34Y7RJeqRXD-Lq1rJptIGU9fO53/exec",r,"",{...n}),I=De("user",{state:()=>({credential:localStorage.getItem("credential"),googleData:null,discordData:null,userData:null,createdProjects:null,joinedProjects:null,paid:0,appReady:!1}),getters:{getAvatar(r){var n;return(n=r.googleData)==null?void 0:n.picture},getId(r){var n;return(n=r.googleData)==null?void 0:n.sub},getEmail(r){var n;return(n=r.googleData)==null?void 0:n.email},isGoogleReady(r){return r.googleData!==null},isAppReady(r){return r.appReady},isUserCompleted(r){return r.userData.name!==""&&r.userData.phone!==""},isDiscordConnected(r){return r.discordData!==null}},actions:{async googleLogin(r){if(r){const n=ce(r);if(n.exp*1e3<new Date().getTime())this.googleLogout();else{localStorage.setItem("credential",r),this.googleData=n,this.credential=r;const l=await H("post",{data:{type:"google",uid:n.sub,email:n.email}}),{data:c,success:a}=l.data;if(!a)throw new Error(c);this.userData=c.user,this.discordData=c.discord,this.createdProjects=c.createdProjects,this.joinedProjects=c.joinedProjects,this.paid=c.paidCount}}else if(this.credential){const n=ce(this.credential);if(n.exp*1e3<new Date().getTime())this.googleLogout();else{this.googleData=n;const l=await H("get",{params:{uid:n.sub}}),{data:c,success:a}=l.data;if(!a)throw new Error(c);this.userData=c.user,this.discordData=c.discord,this.createdProjects=c.createdProjects,this.joinedProjects=c.joinedProjects,this.paid=c.paidCount}}else this.googleData={};this.appReady=!0},async discordLogin(r){const n=await H("post",{data:{type:"discord",uid:this.getId,code:r}}),{data:l,success:c}=n.data;if(!c)throw new Error(l);this.discordData=l},async discordReset(r){const n=await H("post",{data:{uid:this.getId,type:"discord",code:r,reset:!0}}),{data:l,success:c}=n.data;if(!c)throw new Error(l);this.discordData=null},async userUpdate(r){const n=await H("post",{data:{uid:this.getId,type:"user",name:r.name,phone:r.phone,inSchool:r.inSchool,dept:r.inSchool?r.dept:null,studentId:r.inSchool?r.studentId:null}}),{data:l,success:c}=n.data;if(!c)throw new Error(l);this.userData=l},async joinProject(r,n){const l=await H("post",{data:{uid:this.getId,type:"joinProject",id:r,authCode:n}}),{data:c,success:a}=l.data;if(!a)throw new Error(c);this.joinedProjects=c},async createProject(r,n,l){const c=await H("post",{data:{uid:this.getId,type:"createProject",name:r,description:n,link:l}}),{data:a,success:o}=c.data;if(!o)throw new Error(a);this.createdProjects=[...this.createdProjects,a]},async editProject(r,n,l,c){const a=await H("post",{data:{uid:this.getId,type:"editProject",name:r,description:n,id:c,link:l}}),{data:o,success:d}=a.data;if(!d)throw new Error(o);this.createdProjects=this.createdProjects.map(u=>u.id===o.id?{...u,data:o}:u)},googleLogout(){localStorage.removeItem("credential"),this.credential=null,this.googleData={},this.discordData=null,this.userData=null}}}),_t={class:"flex w-full items-center justify-between"},dt=_("h2",{class:"text-xl"},"GDSC Member",-1),ut={key:0,class:"flex items-center gap-2"},pt=L({__name:"PageHeader",setup(r){const n=I(),l=Z(),c=()=>{n.googleLogout(),l.push({name:"Login"})};return(a,o)=>{const d=ge,u=A("RouterLink"),m=M,p=Oe;return i(),h(p,{class:"h-18 p-5",bordered:""},{default:t(()=>[_("div",_t,[e(u,{to:{name:"Home"},tag:"div",class:"flex items-center gap-2"},{default:t(()=>[e(d,{src:s(le),color:"."},null,8,["src"]),dt]),_:1}),s(n).credential?(i(),$("div",ut,[e(m,{size:"medium",onClick:c},{default:t(()=>[g("登出")]),_:1}),e(d,{round:"",src:s(n).getAvatar,"fallback-src":s(le)},null,8,["src","fallback-src"])])):S("",!0)])]),_:1})}}}),mt=L({__name:"Index",async setup(r){let n,l;const c=I(),a=N();return a.name!=="Login"&&([n,l]=Ie(()=>c.googleLogin()),await n,l()),(o,d)=>{const u=pt,m=rt,p=A("RouterView"),f=se;return i(),h(f,{show:!s(c).isAppReady,class:"h-full"},{default:t(()=>[s(a).name!=="Login"?(i(),h(u,{key:0})):S("",!0),s(c).isAppReady&&s(a).name!=="Login"?(i(),h(m,{key:1})):S("",!0),_("div",{class:Me(["p-5",{"h-full":s(a).name==="Login"}])},[e(p)],2)]),_:1},8,["show"])}}});const ft=L({__name:"App",setup(r){return(n,l)=>{const c=se,a=Te,o=Ze,d=Je,u=Ve;return i(),h(u,{theme:s(Ge),class:"h-full w-full"},{default:t(()=>[e(o,null,{default:t(()=>[e(a,null,{default:t(()=>[(i(),h(Se,null,{fallback:t(()=>[e(c,{loading:"",class:"h-full w-full"})]),default:t(()=>[e(mt)]),_:1}))]),_:1})]),_:1}),e(d)]),_:1},8,["theme"])}}}),ht={name:"MdiQrcode"},F=(r,n)=>{const l=r.__vccOpts||r;for(const[c,a]of n)l[c]=a;return l},gt={width:"1em",height:"1em",viewBox:"0 0 24 24"},vt=_("path",{fill:"currentColor",d:"M3 11h2v2H3v-2m8-6h2v4h-2V5m-2 6h4v4h-2v-2H9v-2m6 0h2v2h2v-2h2v2h-2v2h2v4h-2v2h-2v-2h-4v2h-2v-4h4v-2h2v-2h-2v-2m4 8v-4h-2v4h2M15 3h6v6h-6V3m2 2v2h2V5h-2M3 3h6v6H3V3m2 2v2h2V5H5M3 15h6v6H3v-6m2 2v2h2v-2H5Z"},null,-1),yt=[vt];function xt(r,n,l,c,a,o){return i(),$("svg",gt,yt)}const $t=F(ht,[["render",xt]]),K={社員:700,會員:500},bt={class:"flex items-center justify-between"},wt=_("h2",null,"收據",-1),jt={class:"grid grid-cols-3"},kt=L({__name:"Receipt",setup(r){const n=I(),l=k(!1),c=R(()=>n.joinedProjects.length>0||n.createdProjects.length>0?{type:"社員",count:K.社員}:n.paid>=K.會員?{type:"會員",count:K.會員}:{type:"Insider",count:0}),a=R(()=>`https://member.andyjjrt.cc/payment?id=${n.getId}`);return(o,d)=>{const u=$t,m=Ke,p=M,f=ve,y=ie,v=_e,x=J,j=A("vue-qrcode"),w=z,P=ye;return i(),$(U,null,[e(x,null,{header:t(()=>[_("div",bt,[wt,e(p,{text:"",onClick:d[0]||(d[0]=C=>l.value=!0),"icon-placement":"right"},{icon:t(()=>[e(m,{class:"text-xl"},{default:t(()=>[e(u)]),_:1})]),default:t(()=>[g(" 繳費 ")]),_:1})])]),default:t(()=>[_("div",jt,[e(f,{label:"當前身分"},{default:t(()=>[g(b(s(c).type),1)]),_:1}),e(f,{label:"應繳金額"},{default:t(()=>[g(b(s(c).count),1)]),_:1}),e(f,{label:"已繳金額"},{default:t(()=>[g(b(s(n).paid),1)]),_:1})]),s(c).count<s(n).paid?(i(),$(U,{key:0},[e(y),e(v,{title:"您繳的社費大於應繳金額，請找幹部領取退款",type:"info"})],64)):s(c).count>s(n).paid?(i(),$(U,{key:1},[e(y),e(v,{title:"您的社費尚未繳齊，請找幹部補繳",type:"error"})],64)):S("",!0)]),_:1}),e(P,{show:s(l),"onUpdate:show":d[1]||(d[1]=C=>B(l)?l.value=C:null),"transform-origin":"center"},{default:t(()=>[e(x,{class:"max-w-xs rounded-2xl",title:"繳費",bordered:!1,role:"dialog","aria-modal":"true"},{default:t(()=>[e(w,{vertical:""},{default:t(()=>[e(w,{justify:"center"},{default:t(()=>[e(j,{value:s(a)},null,8,["value"])]),_:1}),e(y),e(v,{title:"請出示此QRcode給幹部",type:"info"})]),_:1})]),_:1})]),_:1},8,["show"])],64)}}}),Pt={name:"Fa6SolidUserPlus"},Lt={width:"1.25em",height:"1em",viewBox:"0 0 640 512"},Ct=_("path",{fill:"currentColor",d:"M352 128c0 70.7-57.3 128-128 128S96 198.7 96 128S153.3 0 224 0s128 57.3 128 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4c98.5 0 178.3 79.8 178.3 178.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM504 312v-64h-64c-13.3 0-24-10.7-24-24s10.7-24 24-24h64v-64c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24h-64v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"},null,-1),Dt=[Ct];function It(r,n,l,c,a,o){return i(),$("svg",Lt,Dt)}const Mt=F(Pt,[["render",It]]),St={name:"Fa6SolidUser"},Rt={width:"0.88em",height:"1em",viewBox:"0 0 448 512"},Ut=_("path",{fill:"currentColor",d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512h388.6c16.4 0 29.7-13.3 29.7-29.7c0-98.5-79.8-178.3-178.3-178.3h-91.4z"},null,-1),Ht=[Ut];function At(r,n,l,c,a,o){return i(),$("svg",Rt,Ht)}const Bt=F(St,[["render",At]]),Et={name:"MdiCheckCircle"},qt={width:"1em",height:"1em",viewBox:"0 0 24 24"},zt=_("path",{fill:"currentColor",d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10s10-4.5 10-10S17.5 2 12 2m-2 15l-5-5l1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9Z"},null,-1),Ft=[zt];function Nt(r,n,l,c,a,o){return i(),$("svg",qt,Ft)}const ke=F(Et,[["render",Nt]]),Ot={name:"LogosDiscordIcon"},Gt={width:"1.29em",height:"1em",viewBox:"0 0 256 199"},Vt=_("path",{fill:"#5865F2",d:"M216.856 16.597A208.502 208.502 0 0 0 164.042 0c-2.275 4.113-4.933 9.645-6.766 14.046c-19.692-2.961-39.203-2.961-58.533 0c-1.832-4.4-4.55-9.933-6.846-14.046a207.809 207.809 0 0 0-52.855 16.638C5.618 67.147-3.443 116.4 1.087 164.956c22.169 16.555 43.653 26.612 64.775 33.193A161.094 161.094 0 0 0 79.735 175.3a136.413 136.413 0 0 1-21.846-10.632a108.636 108.636 0 0 0 5.356-4.237c42.122 19.702 87.89 19.702 129.51 0a131.66 131.66 0 0 0 5.355 4.237a136.07 136.07 0 0 1-21.886 10.653c4.006 8.02 8.638 15.67 13.873 22.848c21.142-6.58 42.646-16.637 64.815-33.213c5.316-56.288-9.08-105.09-38.056-148.36ZM85.474 135.095c-12.645 0-23.015-11.805-23.015-26.18s10.149-26.2 23.015-26.2c12.867 0 23.236 11.804 23.015 26.2c.02 14.375-10.148 26.18-23.015 26.18Zm85.051 0c-12.645 0-23.014-11.805-23.014-26.18s10.148-26.2 23.014-26.2c12.867 0 23.236 11.804 23.015 26.2c0 14.375-10.148 26.18-23.015 26.18Z"},null,-1),Tt=[Vt];function Zt(r,n,l,c,a,o){return i(),$("svg",Gt,Tt)}const Pe=F(Ot,[["render",Zt]]),Jt={class:"flex justify-between"},Kt={class:"flex gap-2 items-center"},Qt=_("h2",null,"Discord綁定",-1),Yt={class:"flex items-center text-green-600 text-2xl"},Wt={class:"flex justify-between"},Xt={class:"flex gap-2 items-center"},en=_("h2",null,"個人資料",-1),tn={class:"flex items-center text-green-600 text-2xl"},nn={class:"flex justify-between"},on={class:"flex gap-2 items-center"},sn=_("h2",null,"我的專案",-1),an=L({__name:"Index",setup(r){const n=I();return(l,c)=>{const a=Pe,o=ke,d=J,u=A("RouterLink"),m=Bt,p=Mt,f=kt,y=z;return i(),h(y,{vertical:""},{default:t(()=>[e(u,{to:"/link-discord"},{default:t(()=>[e(d,null,{header:t(()=>[_("div",Jt,[_("div",Kt,[e(a),Qt]),_("span",Yt,[s(n).isDiscordConnected?(i(),h(o,{key:0})):S("",!0)])])]),_:1})]),_:1}),e(u,{to:"/user"},{default:t(()=>[e(d,null,{header:t(()=>[_("div",Wt,[_("div",Xt,[e(m),en]),_("span",tn,[s(n).isUserCompleted?(i(),h(o,{key:0})):S("",!0)])])]),_:1})]),_:1}),e(u,{to:"/projects"},{default:t(()=>[e(d,null,{header:t(()=>[_("div",nn,[_("div",on,[e(p),sn])])]),_:1})]),_:1}),e(f)]),_:1})}}}),cn=["href"],ln=L({__name:"LoginButton",setup(r){const n=R(()=>"https://discord.com/api/oauth2/authorize?client_id=1069510883719520266&redirect_uri=https%3A%2F%2Fmember.andyjjrt.cc%2Fauth%2Fcallback%2Fdiscord&response_type=code&scope=identify%20email");return(l,c)=>{const a=Pe,o=M;return i(),$("a",{href:s(n)},[e(o,null,{icon:t(()=>[e(a)]),default:t(()=>[g(" Discord Login ")]),_:1})],8,cn)}}}),rn={class:"flex justify-between items-center mt-[-10px]"},_n={class:"relative pb-12"},dn=["src"],un=["src"],Le=L({__name:"Profile",props:{discordData:{type:Object,default:()=>{}},readOnly:{type:Boolean,default:!1}},setup(r){const n=r,l=I(),c=k(!1),a=async()=>{var m;c.value=!0,await l.discordReset((m=n.discordData)==null?void 0:m.id),c.value=!1},o=R(()=>{var m,p;return n.discordData.banner?`https://cdn.discordapp.com/banners/${(m=n.discordData)==null?void 0:m.id}/${(p=n.discordData)==null?void 0:p.banner}?size=512`:n.discordData.banner_color?`https://singlecolorimage.com/get/${n.discordData.banner_color.split("#")[1]}/512x175`:"https://singlecolorimage.com/get/ffffff/512x175"}),d=R(()=>{var m,p;return n.discordData.avatar?`https://cdn.discordapp.com/avatars/${(m=n.discordData)==null?void 0:m.id}/${(p=n.discordData)==null?void 0:p.avatar}?size=128`:`https://cdn.discordapp.com/embed/avatars/${n.discordData.discriminator%5}.png`}),u=R(()=>{var m,p;return`${(m=n.discordData)==null?void 0:m.username}#${(p=n.discordData)==null?void 0:p.discriminator}`});return(m,p)=>{const f=M,y=J;return i(),h(y,{class:"max-w-[400px]"},{header:t(()=>[_("div",rn,[_("h1",null,b(s(u)),1),r.readOnly?S("",!0):(i(),h(f,{key:0,onClick:a,loading:s(c)},{default:t(()=>[g(" 取消綁定 ")]),_:1},8,["loading"]))])]),cover:t(()=>[_("div",_n,[_("img",{src:s(o)},null,8,dn),_("img",{src:s(d),class:"rounded-full absolute left-0 bottom-0 !w-28 border-8 ml-3",style:{"border-color":"var(--n-color)"}},null,8,un)])]),_:1})}}}),pn=_("iframe",{src:"https://discord.com/widget?id=902904317986607165&theme=dark",width:"350",height:"500",allowtransparency:"true",frameborder:"0",sandbox:"allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"},null,-1),mn=L({__name:"LinkDiscord",setup(r){const n=I();return(l,c)=>{const a=Le,o=ln;return i(),$(U,null,[s(n).discordData?(i(),h(a,{key:0,discordData:s(n).discordData},null,8,["discordData"])):(i(),h(o,{key:1})),pn],64)}}}),fn={class:"flex flex-col gap-1"},hn=_("span",null,"姓名",-1),gn={class:"flex flex-col gap-1"},vn=_("span",null,"手機",-1),yn={class:"flex flex-col gap-1"},xn=_("span",null,"學號",-1),$n={class:"flex flex-col gap-1"},bn=_("span",null,"系級",-1),wn=L({__name:"User",setup(r){const n=E(),l=Q(),c=I(),a=Re({...c.userData}),o=k(!1),d=(m,p)=>new RegExp(m).test(p),u=async()=>{if(a.phone===""||a.name===""||a.inSchool&&(a.dept===""||a.studentId==="")){n.error("欄位不得為空");return}if(!d("^09[0-9]{8}$",a.phone)){n.error("手機號碼錯誤");return}if(a.inSchool&&!d("^1(0[6-9]|1[0-2])(([1-7])(0|5|6)|ZU)[0-9]{4}$",a.studentId)){n.error("學號格式錯誤");return}o.value=!0,l.start();try{await c.userUpdate(a),a.value={...c.userData},n.success("儲存成功")}catch(m){n.error(m.message)}l.finish(),o.value=!1};return(m,p)=>{const f=xe,y=$e,v=Y,x=z,j=Qe,w=M,P=de;return i(),h(x,{vertical:""},{default:t(()=>[e(y,{value:s(a).inSchool,"onUpdate:value":p[0]||(p[0]=C=>s(a).inSchool=C),name:"radiobuttongroup1",disabled:s(o)},{default:t(()=>[e(f,{value:!0,label:"政大學生"}),e(f,{value:!1,label:"政大校友/校外人士"})]),_:1},8,["value","disabled"]),_("div",fn,[hn,e(v,{placeholder:"姓名",value:s(a).name,"onUpdate:value":p[1]||(p[1]=C=>s(a).name=C),disabled:s(o)},null,8,["value","disabled"])]),_("div",gn,[vn,e(v,{placeholder:"手機",value:s(a).phone,"onUpdate:value":p[2]||(p[2]=C=>s(a).phone=C),disabled:s(o)},null,8,["value","disabled"])]),e(j,{show:s(a).inSchool},{default:t(()=>[e(x,{vertical:""},{default:t(()=>[_("div",yn,[xn,e(v,{placeholder:"學號",value:s(a).studentId,"onUpdate:value":p[3]||(p[3]=C=>s(a).studentId=C),disabled:s(o)},null,8,["value","disabled"])]),_("div",$n,[bn,e(v,{placeholder:"系級",value:s(a).dept,"onUpdate:value":p[4]||(p[4]=C=>s(a).dept=C),disabled:s(o)},null,8,["value","disabled"])])]),_:1})]),_:1},8,["show"]),e(x,{align:"center",class:"mt-2"},{default:t(()=>[e(w,{onClick:u,loading:s(o),disabled:s(c).isUserCompleted},{default:t(()=>[g(" 儲存 ")]),_:1},8,["loading","disabled"]),s(c).isUserCompleted?(i(),h(P,{key:0,bordered:!1},{default:t(()=>[g("已經填寫完成，若要更改請洽幹部")]),_:1})):S("",!0)]),_:1})]),_:1})}}}),jn={name:"MdiPencil"},kn={width:"1em",height:"1em",viewBox:"0 0 24 24"},Pn=_("path",{fill:"currentColor",d:"M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83l3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"},null,-1),Ln=[Pn];function Cn(r,n,l,c,a,o){return i(),$("svg",kn,Ln)}const Dn=F(jn,[["render",Cn]]),In={name:"MdiShareVariant"},Mn={width:"1em",height:"1em",viewBox:"0 0 24 24"},Sn=_("path",{fill:"currentColor",d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7c0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3a3 3 0 0 0-3-3a3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3a3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66c0 1.61 1.31 2.91 2.92 2.91c1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"},null,-1),Rn=[Sn];function Un(r,n,l,c,a,o){return i(),$("svg",Mn,Rn)}const Hn=F(In,[["render",Un]]),An={class:"flex justify-between"},Bn={class:"flex items-center gap-1"},En=L({__name:"HostProjectCard",props:{project:{type:Object,default:()=>{}}},setup(r){const n=r,l=E(),c=R(()=>"https://member.andyjjrt.cc/projects/enter?id="+n.project.id),a=()=>{navigator.clipboard.writeText(c.value),l.success("已複製到剪貼簿")},o=R(()=>n.project.members.map(u=>({key:u,label:u}))),d=k(!1);return(u,m)=>{const p=Ye,f=de,y=ge,v=We,x=Xe,j=et,w=Hn,P=M,C=Dn,V=A("RouterLink"),D=z,q=J,W=A("vue-qrcode"),X=Y,oe=be,ae=ye;return i(),$(U,null,[e(q,null,{header:t(()=>[_("div",An,[_("h2",null,b(r.project.name),1),_("div",Bn,[e(f,{bordered:!1,type:"info"},{default:t(()=>[e(p,{from:0,to:r.project.authCode,active:""},null,8,["to"])]),_:1})])])]),default:t(()=>[g(" "+b(r.project.description)+" ",1),e(D,{justify:"space-between",align:"center"},{default:t(()=>[e(j,{options:s(o),size:20,max:3,class:"mt-2"},{avatar:t(({option:{label:O,key:ee}})=>[e(v,null,{trigger:t(()=>[e(y,{size:"small"},{default:t(()=>[g(b(ee[0]),1)]),_:2},1024)]),default:t(()=>[g(" "+b(O),1)]),_:2},1024)]),rest:t(({options:O,rest:ee})=>[e(x,{options:O,placement:"top"},{default:t(()=>[e(y,{size:"small"},{default:t(()=>[g("+"+b(ee),1)]),_:2},1024)]),_:2},1032,["options"])]),_:1},8,["options"]),e(D,null,{default:t(()=>[e(P,{text:"",onClick:m[0]||(m[0]=O=>d.value=!0)},{default:t(()=>[e(w)]),_:1}),e(V,{to:{name:"Edit Project",query:{id:r.project.id}}},{default:t(()=>[e(P,{text:""},{default:t(()=>[e(C)]),_:1})]),_:1},8,["to"])]),_:1})]),_:1})]),_:1}),e(ae,{show:s(d),"onUpdate:show":m[1]||(m[1]=O=>B(d)?d.value=O:null),"transform-origin":"center"},{default:t(()=>[e(q,{class:"max-w-xs rounded-2xl",title:"分享",bordered:!1,role:"dialog","aria-modal":"true"},{default:t(()=>[e(D,{vertical:""},{default:t(()=>[e(D,{justify:"center"},{default:t(()=>[e(W,{value:s(c)},null,8,["value"])]),_:1}),e(oe,null,{default:t(()=>[e(X,{readonly:"","default-value":s(c)},null,8,["default-value"]),e(P,{type:"primary",ghost:"",onClick:a},{default:t(()=>[g(" 複製 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["show"])],64)}}}),qn={class:"flex justify-between"},zn=_("h2",null,"我加入的專案",-1),Fn=_("br",null,null,-1),Nn=_("br",null,null,-1),On={class:"flex justify-between"},Gn=_("h2",null,"我開啟的專案",-1),Vn=L({__name:"MyProjects",setup(r){const n=I(),l=c=>{window.open(c)};return(c,a)=>{const o=M,d=A("RouterLink"),u=we,m=J,p=ue,f=z,y=En;return i(),h(f,{vertical:""},{default:t(()=>[e(m,null,{header:t(()=>[_("div",qn,[zn,e(d,{to:{name:"Enter Project"}},{default:t(()=>[e(o,null,{default:t(()=>[g(" 加入專案 ")]),_:1})]),_:1})])]),default:t(()=>[e(f,{vertical:""},{default:t(()=>[(i(!0),$(U,null,G(s(n).joinedProjects,v=>(i(),h(m,{title:v.name},{default:t(()=>[g(b(v.description)+" ",1),Fn,e(u,{"negative-text":null,onPositiveClick:x=>l(v.link)},{trigger:t(()=>[e(o,{text:"",tag:"a",type:"primary"},{default:t(()=>[g("專案連結")]),_:1})]),default:t(()=>[g(" 即將前往: "+b(v.link),1),Nn,g(" 此網站由"+b(v.name)+"提供，請留意網路安全 ",1)]),_:2},1032,["onPositiveClick"])]),_:2},1032,["title"]))),256)),!s(n).joinedProjects||s(n).joinedProjects.length===0?(i(),h(p,{key:0,description:"尚無專案"})):S("",!0)]),_:1})]),_:1}),e(m,null,{header:t(()=>[_("div",On,[Gn,e(d,{to:{name:"Create Project"}},{default:t(()=>[e(o,null,{default:t(()=>[g("新增專案")]),_:1})]),_:1})])]),default:t(()=>[e(f,{vertical:""},{default:t(()=>[(i(!0),$(U,null,G(s(n).createdProjects,v=>(i(),h(y,{project:v},null,8,["project"]))),256)),!s(n).createdProjects||s(n).createdProjects.length===0?(i(),h(p,{key:0,description:"尚無專案"})):S("",!0)]),_:1})]),_:1})]),_:1})}}}),Tn={class:"flex flex-col gap-1"},Zn=_("span",null,"專案名稱",-1),Jn={class:"flex flex-col gap-1"},Kn=_("span",null,"專案敘述",-1),Qn={class:"flex flex-col gap-1"},Yn=_("span",null,"專案連結(ex: 投影片)",-1),Wn=L({__name:"CreateProject",setup(r){const n=I(),l=E(),c=Z(),a=k(""),o=k(""),d=k(""),u=k(!1),m=async()=>{u.value=!0;try{await n.createProject(a.value,o.value,d.value),l.success("成功新增專案"),c.push({name:"My Projects"})}catch(p){l.error(p.message)}u.value=!1};return(p,f)=>{const y=Y,v=de,x=M,j=z;return i(),h(j,{vertical:""},{default:t(()=>[_("div",Tn,[Zn,e(y,{placeholder:"專案名稱",value:s(a),"onUpdate:value":f[0]||(f[0]=w=>B(a)?a.value=w:null),disabled:s(u)},null,8,["value","disabled"])]),_("div",Jn,[Kn,e(y,{disabled:s(u),placeholder:"專案敘述",value:s(o),"onUpdate:value":f[1]||(f[1]=w=>B(o)?o.value=w:null),type:"textarea",maxlength:"30","show-count":""},null,8,["disabled","value"])]),_("div",Qn,[Yn,e(y,{placeholder:"專案連結(ex: 投影片)",value:s(d),"onUpdate:value":f[2]||(f[2]=w=>B(d)?d.value=w:null),disabled:s(u)},null,8,["value","disabled"])]),e(j,{justify:"end",align:"center"},{default:t(()=>[!s(n).isDiscordConnected||!s(n).isUserCompleted?(i(),h(v,{key:0,bordered:!1},{default:t(()=>[g(" 請先填寫個人資料及綁定discord ")]),_:1})):S("",!0),e(x,{onClick:m,loading:s(u),disabled:!s(n).isDiscordConnected||!s(n).isUserCompleted},{default:t(()=>[g(" 新增專案 ")]),_:1},8,["loading","disabled"])]),_:1})]),_:1})}}}),Xn={class:"flex justify-between items-center"},eo=_("div",null,"請先填寫個人資料及綁定discord",-1),to=L({__name:"EnterProjectButton",props:{id:{type:String,default:""}},setup(r){const n=r,l=I(),c=E(),a=k(""),o=k(!1),d=R(()=>p=>l.joinedProjects.findIndex(f=>f.id===p)>=0),u=R(()=>p=>l.createdProjects.findIndex(f=>f.id===p)>=0),m=async()=>{o.value=!0;try{await l.joinProject(n.id,a.value),c.success("成功加入專案")}catch(p){c.error(p.message)}o.value=!1};return(p,f)=>{const y=_e,v=M,x=A("RouterLink"),j=Y,w=be;return s(u)(r.id)?(i(),h(y,{key:0,title:"已是專案主持人",type:"info"})):s(d)(r.id)?(i(),h(y,{key:1,title:"已經加入專案",type:"success"})):!s(l).isUserCompleted||!s(l).isDiscordConnected?(i(),h(y,{key:2,type:"warning"},{header:t(()=>[_("div",Xn,[eo,e(x,{to:"/"},{default:t(()=>[e(v,{type:"warning",size:"tiny"},{default:t(()=>[g("回到首頁")]),_:1})]),_:1})])]),_:1})):(i(),h(w,{key:3,class:"mt-2"},{default:t(()=>[e(j,{placeholder:"authCode",value:s(a),"onUpdate:value":f[0]||(f[0]=P=>B(a)?a.value=P:null),disabled:s(o)},null,8,["value","disabled"]),e(v,{type:"primary",ghost:"",loading:s(o),onClick:m},{default:t(()=>[g(" 加入 ")]),_:1},8,["loading"])]),_:1}))}}}),no={class:"w-full"},oo=_("br",null,null,-1),so=L({__name:"EnterProject",setup(r){const n=E(),l=N();Z();const c=I(),a=k([]),o=k(!0),d=R(()=>l.query.id||null),u=R(()=>d.value?[a.value.find(p=>p.id===d.value)].filter(p=>p!==void 0):a.value);te(async()=>{const p=await H("get",{params:{type:"projects",uid:c.getId}});o.value=!1;const{data:f,success:y}=p.data;if(!y){n.error(f);return}a.value=f});const m=p=>{window.open(p)};return(p,f)=>{const y=tt,v=M,x=A("RouterLink"),j=ue,w=we,P=to,C=z,V=J;return i(),h(V,{title:s(d)?"加入專案":"所有專案"},{default:t(()=>[e(C,{vertical:""},{default:t(()=>[s(o)?(i(),$(U,{key:0},[e(y,{text:"",repeat:2}),g(),e(y,{text:"",style:{width:"60%"}})],64)):s(u).length===0?(i(),h(j,{key:1,description:s(d)?"無此專案":"尚無專案"},Ue({_:2},[s(d)?{name:"extra",fn:t(()=>[e(x,{to:{name:"Enter Project"}},{default:t(()=>[e(v,{size:"small"},{default:t(()=>[g("瀏覽所有專案")]),_:1})]),_:1})]),key:"0"}:void 0]),1032,["description"])):(i(!0),$(U,{key:2},G(s(u),D=>(i(),h(V,{title:D.name},{"header-extra":t(()=>[g(b(D.leader),1)]),default:t(()=>[e(C,{vertical:""},{default:t(()=>[g(b(D.description)+" ",1),e(w,{width:"trigger","negative-text":null,onPositiveClick:q=>m(D.link)},{trigger:t(()=>[_("div",no,[e(v,{text:"",tag:"a",type:"primary"},{default:t(()=>[g("專案連結")]),_:1})])]),default:t(()=>[g(" 即將前往: "+b(D.link),1),oo,g(" 此網站由"+b(D.name)+"提供，請留意網路安全 ",1)]),_:2},1032,["onPositiveClick"]),e(P,{id:D.id},null,8,["id"])]),_:2},1024)]),_:2},1032,["title"]))),256))]),_:1})]),_:1},8,["title"])}}}),ao={class:"flex flex-col gap-1"},co=_("span",null,"專案名稱",-1),lo={class:"flex flex-col gap-1"},ro=_("span",null,"專案敘述",-1),io={class:"flex flex-col gap-1"},_o=_("span",null,"專案連結(ex: 投影片)",-1),uo=L({__name:"EditProject",setup(r){const n=I(),l=E(),c=Z(),a=N(),o=k(!1),d=R(()=>n.createdProjects.find(y=>y.id===a.query.id)),u=k(d==null?void 0:d.value.name),m=k(d==null?void 0:d.value.description),p=k(d==null?void 0:d.value.link),f=async()=>{o.value=!0;try{await n.editProject(u.value,m.value,p.value,a.query.id),l.success("成功編輯專案"),c.push({name:"My Projects"})}catch(y){l.error(y.message)}o.value=!1};return(y,v)=>{const x=Y,j=M,w=z;return i(),h(w,{vertical:""},{default:t(()=>[_("div",ao,[co,e(x,{placeholder:"專案名稱",value:s(u),"onUpdate:value":v[0]||(v[0]=P=>B(u)?u.value=P:null),disabled:s(o)},null,8,["value","disabled"])]),_("div",lo,[ro,e(x,{disabled:s(o),placeholder:"專案敘述",value:s(m),"onUpdate:value":v[1]||(v[1]=P=>B(m)?m.value=P:null),type:"textarea",maxlength:"30","show-count":""},null,8,["disabled","value"])]),_("div",io,[_o,e(x,{placeholder:"專案連結(ex: 投影片)",value:s(p),"onUpdate:value":v[2]||(v[2]=P=>B(p)?p.value=P:null),disabled:s(o)},null,8,["value","disabled"])]),e(w,{justify:"end"},{default:t(()=>[e(j,{onClick:f,loading:s(o)},{default:t(()=>[g("編輯專案")]),_:1},8,["loading"])]),_:1})]),_:1})}}}),po=L({__name:"GoogleLoginButton",emits:["handleGoogleLogin"],setup(r,{emit:n}){const l=I(),c=Q(),a=E();Z();const o=async d=>{try{l.appReady=!1,c.start(),await l.googleLogin(d.credential),c.finish(),n("handleGoogleLogin",ce(d.credential))}catch(u){a.error(u),l.googleLogout()}};return(d,u)=>{const m=A("GoogleLogin");return i(),h(m,{callback:o})}}}),mo={class:"h-full w-full flex justify-center items-center"},fo=["src"],ho=L({__name:"Login",setup(r){const n=Z(),l=N(),c=R(()=>l.redirectedFrom),a=o=>{n.push(c.value?{name:c.value.name,query:c.value.query}:{name:"Home"})};return(o,d)=>{const u=po,m=je;return i(),$("div",mo,[e(m,{title:"GDSC NCCU",description:"社員登錄平台"},{icon:t(()=>[_("img",{src:s(le),width:"150"},null,8,fo)]),footer:t(()=>[e(u,{onHandleGoogleLogin:a})]),_:1})])}}}),go={};function vo(r,n){const l=nt,c=M,a=A("RouterLink"),o=ot,d=st;return i(),h(d,null,{default:t(()=>[e(o,null,{suffix:t(()=>[e(a,{to:{name:"Log"}},{default:t(()=>[e(c,null,{default:t(()=>[g("前往")]),_:1})]),_:1})]),default:t(()=>[e(l,{title:"Log","content-style":"margin-top: 10px;"})]),_:1}),e(o,null,{suffix:t(()=>[e(a,{to:{name:"AdminProjects"}},{default:t(()=>[e(c,null,{default:t(()=>[g("前往")]),_:1})]),_:1})]),default:t(()=>[e(l,{title:"Projects","content-style":"margin-top: 10px;"})]),_:1})]),_:1})}const yo=F(go,[["render",vo]]),xo={name:"MdiCloseCircle"},$o={width:"1em",height:"1em",viewBox:"0 0 24 24"},bo=_("path",{fill:"currentColor",d:"M12 2c5.53 0 10 4.47 10 10s-4.47 10-10 10S2 17.53 2 12S6.47 2 12 2m3.59 5L12 10.59L8.41 7L7 8.41L10.59 12L7 15.59L8.41 17L12 13.41L15.59 17L17 15.59L13.41 12L17 8.41L15.59 7Z"},null,-1),wo=[bo];function jo(r,n,l,c,a,o){return i(),$("svg",$o,wo)}const ko=F(xo,[["render",jo]]),Po={key:1,class:"grid grid-cols-2 sm:grid-cols-3"},Lo={class:"grid grid-cols-2 gap-2"},Co=_("h2",{class:"text-xl"},"加入的專案",-1),Do=_("h2",{class:"text-xl"},"建立的專案",-1),Io={class:"grid grid-cols-3"},Mo=_("h3",{class:"text-xl"},"上學期資料",-1),So={class:"flex gap-2"},Ro={key:0,class:"flex items-center text-green-600 text-xl"},Uo={key:1,class:"flex items-center text-red-500 text-xl"},Ho={class:"flex gap-2"},Ao={key:0,class:"flex items-center text-green-600 text-xl"},Bo={key:1,class:"flex items-center text-red-500 text-xl"},Eo={class:"flex gap-2"},qo={key:0,class:"flex items-center text-green-600 text-xl"},zo={key:1,class:"flex items-center text-red-500 text-xl"},Fo={class:"flex flex-col gap-1"},No=_("span",null,"金額",-1),Oo=L({__name:"Payment",setup(r){const n=N(),l=E(),c=Q(),a=I(),o=k(null),d=k(1),u=k(""),m=k(!1),p=R(()=>o.value.joinedProjects.length>0||o.value.createdProjects.length>0?{type:"社員",count:K.社員}:o.value.paidCount>=K.會員?{type:"會員",count:K.會員}:{type:"Insider",count:0});te(async()=>{await f()});const f=async()=>{c.start();const v=n.query.id,x=await H("get",{params:{type:"checkPayment",uid:a.getId,id:v}});c.finish();const{data:j,success:w}=x.data;if(!w){l.error(j);return}o.value=j},y=async v=>{if(v.preventDefault(),u.value===""){l.error("請填入金額");return}m.value=!0;const x=await H("post",{data:{type:"payment",uid:a.getId,id:n.query.id,payment:(d.value*parseInt(u.value)).toString()}});m.value=!1;const{data:j,success:w}=x.data;if(!w){l.error(j);return}l.success("紀錄完成"),o.value=null,d.value=1,await f()};return(v,x)=>{const j=_e,w=ve,P=ie,C=Le,V=ue,D=J,q=z,W=ke,X=ko,oe=xe,ae=$e,O=Y,ee=M;return s(o)?(i(),h(q,{key:0,vertical:""},{default:t(()=>{var pe,me,fe;return[((pe=s(o))==null?void 0:pe.user.name)===""||s(o).user.phone===""?(i(),h(j,{key:0,type:"info",title:"個人資料尚未完成"})):(i(),$("div",Po,[e(w,{label:"姓名"},{default:t(()=>[g(b(s(o).user.name),1)]),_:1}),e(w,{label:"電話"},{default:t(()=>[g(b(s(o).user.phone),1)]),_:1}),s(o).user.inSchool?(i(),h(w,{key:0,label:"學號"},{default:t(()=>[g(b(s(o).user.studentId),1)]),_:1})):S("",!0),s(o).user.inSchool?(i(),h(w,{key:1,label:"系級"},{default:t(()=>[g(b(s(o).user.dept),1)]),_:1})):S("",!0),e(w,{label:"身分"},{default:t(()=>[g(b(s(o).user.inSchool?"政大學生":"政大校友/校外人士"),1)]),_:1})])),e(P),((me=s(o))==null?void 0:me.discord)===null?(i(),h(j,{key:2,type:"info",title:"Discord 尚未綁定"})):(i(),h(C,{key:3,readOnly:"",discordData:(fe=s(o))==null?void 0:fe.discord},null,8,["discordData"])),e(P),_("div",Lo,[e(q,{vertical:""},{default:t(()=>[Co,s(o).joinedProjects.length===0?(i(),h(D,{key:0},{default:t(()=>[e(V,{description:"尚無專案"})]),_:1})):S("",!0),(i(!0),$(U,null,G(s(o).joinedProjects,T=>(i(),h(D,{title:T.name},null,8,["title"]))),256))]),_:1}),e(q,{vertical:""},{default:t(()=>[Do,s(o).createdProjects.length===0?(i(),h(D,{key:0},{default:t(()=>[e(V,{description:"尚無專案"})]),_:1})):S("",!0),(i(!0),$(U,null,G(s(o).createdProjects,T=>(i(),h(D,{title:T.name},null,8,["title"]))),256))]),_:1})]),e(P),_("div",Io,[e(w,{label:"當前身分"},{default:t(()=>[g(b(s(p).type),1)]),_:1}),e(w,{label:"應繳金額"},{default:t(()=>[g(b(s(p).count),1)]),_:1}),e(w,{label:"已繳金額"},{default:t(()=>[g(b(s(o).paidCount),1)]),_:1})]),e(P),s(o).oldMember?(i(),h(q,{key:4,vertical:""},{default:t(()=>[Mo,_("div",So,[s(o).oldMember.name===s(o).user.name?(i(),$("span",Ro,[e(W)])):(i(),$("span",Uo,[e(X)])),_("span",null,"姓名: "+b(s(o).oldMember.name),1)]),_("div",Ho,[s(o).oldMember.email===s(o).user.email?(i(),$("span",Ao,[e(W)])):(i(),$("span",Bo,[e(X)])),_("span",null,"email: "+b(s(o).oldMember.email||"無資料"),1)]),_("div",Eo,[s(o).oldMember.studentId===s(o).user.studentId?(i(),$("span",qo,[e(W)])):(i(),$("span",zo,[e(X)])),_("span",null,"學號: "+b(s(o).oldMember.studentId||"無資料"),1)])]),_:1})):(i(),h(j,{key:5,type:"info",title:"無上學期社員資訊"})),e(P),e(D,null,{default:t(()=>[_("form",{onSubmit:y},[e(q,{vertical:""},{default:t(()=>[e(ae,{value:s(d),"onUpdate:value":x[0]||(x[0]=T=>B(d)?d.value=T:null),name:"radiobuttongroup1",class:"w-full",disabled:s(m)},{default:t(()=>[e(oe,{value:1,label:"收款",class:"w-[calc(50%_-_0.5px)] text-center"}),e(oe,{value:-1,label:"退款",class:"w-[calc(50%_-_0.5px)] text-center"})]),_:1},8,["value","disabled"]),_("div",Fo,[No,e(O,{placeholder:"金額",value:s(u),"onUpdate:value":x[1]||(x[1]=T=>B(u)?u.value=T:null),disabled:s(m)},null,8,["value","disabled"])]),e(q,{justify:"end"},{default:t(()=>[e(ee,{"attr-type":"submit",loading:s(m)},{default:t(()=>[g("紀錄")]),_:1},8,["loading"])]),_:1})]),_:1})],32)]),_:1}),e(j,{type:"info",title:"上學期社費抵免請分開紀錄"})]}),_:1})):S("",!0)}}}),Go=L({__name:"Log",setup(r){N();const n=E(),l=Q(),c=k(!1),a=I(),o=k([]),d=[{title:"Id",key:"index"},{title:"時間",key:"time",render(f){return new Date(f.time).toLocaleString()},sorter:"default",ellipsis:!0},{title:"姓名",key:"name"},{title:"Core",key:"coreName",sorter:"default",ellipsis:!0},{title:"Count",key:"count"},{title:"Action",key:"actions",render(f){return f.check?"已付款":He(M,{type:"primary",size:"small",onClick:()=>p(f.index)},{default:()=>"確認收款"})}}],u={pageSize:10},m=async()=>{l.start(),c.value=!0;const f=await H("get",{params:{type:"log",uid:a.getId}});l.finish(),c.value=!1;const{data:y,success:v}=f.data;if(!v){n.error(y);return}o.value=y},p=async f=>{l.start(),c.value=!0;const y=await H("post",{data:{type:"checkLog",uid:a.getId,index:f}});l.finish();const{data:v,success:x}=y.data;if(!x){n.error(v),c.value=!1;return}m()};return te(()=>{m()}),(f,y)=>{const v=at,x=se;return i(),h(x,{show:s(c)},{default:t(()=>[e(v,{columns:d,data:s(o),pagination:u},null,8,["data"])]),_:1},8,["show"])}}}),Vo={class:"flex flex-wrap items-center gap-2"},To=_("span",null,"Leader:",-1),Zo=["href"],Jo=_("br",null,null,-1),Ko={class:"flex flex-wrap items-center gap-2"},Qo=_("span",null,"Members:",-1),Yo=["href"],Wo=L({__name:"Projects",setup(r){N();const n=E(),l=Q(),c=k(!1),a=I(),o=k([]),d=async()=>{l.start(),c.value=!0;const u=await H("get",{params:{type:"projectsByCore",uid:a.getId}});l.finish(),c.value=!1;const{data:m,success:p}=u.data;if(!p){n.error(m);return}o.value=m};return te(()=>{d()}),(u,m)=>{const p=ie,f=lt,y=ct,v=se;return i(),h(v,{show:s(c)},{default:t(()=>[e(y,null,{default:t(()=>[(i(!0),$(U,null,G(s(o),x=>(i(),h(f,{title:x.name,name:x.id},{"header-extra":t(()=>[g(b(x.leader.name),1)]),default:t(()=>[g(b(x.description)+" ",1),e(p),_("div",Vo,[To,_("a",{href:`/payment?id=${x.leader.id}`,target:"_blanks"},[e(s(M),{type:"info"},{default:t(()=>[g(b(x.leader.name),1)]),_:2},1024)],8,Zo)]),Jo,_("div",Ko,[Qo,(i(!0),$(U,null,G(x.members,j=>(i(),$("a",{href:`/payment?id=${j.id}`,target:"_blanks"},[e(s(M),{type:"primary"},{default:t(()=>[g(b(j.name),1)]),_:2},1024)],8,Yo))),256))])]),_:2},1032,["title","name"]))),256))]),_:1})]),_:1},8,["show"])}}}),Xo={};function es(r,n){const l=M,c=A("RouterLink"),a=je,o=z;return i(),h(o,{class:"h-full",align:"center",justify:"center"},{default:t(()=>[e(a,{status:"404",title:"404 Not Found",description:"You know life is always ridiculous."},{footer:t(()=>[e(c,{to:"/"},{default:t(()=>[e(l,null,{default:t(()=>[g("Back Home")]),_:1})]),_:1})]),_:1})]),_:1})}const ts=F(Xo,[["render",es]]),ns=L({__name:"Discord",setup(r){const n=N(),l=Z(),c=I(),a=Q(),o=E(),d=R(()=>n.query.code);return te(async()=>{try{a.start(),await c.discordLogin(d.value),a.finish(),o.success("綁定成功"),l.push({name:"Link Discord"})}catch(u){a.finish(),o.error(u.message),l.push({name:"Link Discord"})}}),(u,m)=>"正在綁定你的discord，請不要離開此頁"}}),os=[{path:"/",name:"Home",component:an,meta:{breadCrumb:[{text:"Home"}]}},{path:"/link-discord",name:"Link Discord",component:mn,meta:{breadCrumb:[{text:"Home",to:{name:"Home"}},{text:"Link Discord"}]}},{path:"/user",name:"User",component:wn,meta:{breadCrumb:[{text:"Home",to:{name:"Home"}},{text:"User"}]}},{path:"/projects",children:[{path:"",name:"My Projects",component:Vn,meta:{breadCrumb:[{text:"Home",to:{name:"Home"}},{text:"My Projects"}]}},{path:"create",name:"Create Project",component:Wn,meta:{breadCrumb:[{text:"Home",to:{name:"Home"}},{text:"My Projects",to:{name:"My Projects"}},{text:"Create Project"}]}},{path:"enter",name:"Enter Project",component:so,meta:{breadCrumb:[{text:"Home",to:{name:"Home"}},{text:"My Projects",to:{name:"My Projects"}},{text:"Enter Project"}]}},{path:"edit",name:"Edit Project",component:uo,meta:{breadCrumb:[{text:"Home",to:{name:"Home"}},{text:"My Projects",to:{name:"My Projects"}},{text:"Edit Project"}]}}]},{path:"/admin",children:[{path:"",name:"Admin",component:yo,meta:{breadCrumb:[{text:"Admin"}]}},{path:"log",name:"Log",component:Go,meta:{breadCrumb:[{text:"Admin",to:{name:"Admin"}},{text:"Log"}]}},{path:"projects",name:"AdminProjects",component:Wo,meta:{breadCrumb:[{text:"Admin",to:{name:"Admin"}},{text:"Projects"}]}}]},{path:"/login",name:"Login",component:ho},{path:"/payment",name:"Payment",component:Oo},{path:"/auth/callback",children:[{path:"discord",component:ns}]},{path:"/:pathMatch(.*)*",name:"NotFound",component:ts}],Ce=Ae({history:Be(),routes:os});Ce.beforeEach(r=>{const n=I();if(!n.credential&&r.name!=="Login")return{name:"Login"};if(n.credential&&r.name==="Login")return{name:"Home"}});const ss=Ee(),ne=qe(ft);ne.use(ze,{clientId:"1074271718336-6bd2eece404794eqmtpptar29v2u7kg9.apps.googleusercontent.com"});ne.use(Ce);ne.use(ss);ne.component(he.name,he);ne.mount("#app");
